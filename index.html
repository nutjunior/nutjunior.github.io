<!DOCTYPE html>
<html>
<body>
<head>
  <title>
    Sign up page
  </title>
  <meta charset="UTF-8">
</head>
<form id="subscribe-form">
  <h1>Subscribe to our mailing list</h1>
  <input type="email" name="email" placeholder="you@example.com" required>
  <button type="submit">Subscribe</button>
  <p id="subscribe-success" style="display:none; color:green;">
    Thanks! Youâ€™re on the list.
  </p>
  <p id="subscribe-error" style="display:none; color:red;">
    Error submitting. Please try again.
  </p>
</form>

<script>
const form = document.getElementById("subscribe-form");
const successMsg = document.getElementById("subscribe-success");
const errorMsg = document.getElementById("subscribe-error");

// Replace with your deployed Web App URL
const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbz6Z1SRA2hqKWia_OsQB5Di1_VE1hubD94tReiiHJgly_xMUoh8E-pojpjf7aBi9EoR/exec";

form.addEventListener("submit", async (e) => {
  e.preventDefault();
  successMsg.style.display = "none";
  errorMsg.style.display = "none";

  const email = form.email.value.trim();

try {
  const formData = new URLSearchParams();
  formData.append("email", email);
  formData.append("action", "subscribe");

  const res = await fetch(WEB_APP_URL, {
    method: "POST",
    body: formData
  });
  
} catch (err) {
  console.error(err);
}

</script>
</body>
</html>
